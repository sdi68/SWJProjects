document.addEventListener("DOMContentLoaded",function(){let keysFields=document.querySelectorAll('[input-key="container"]');if(keysFields){keysFields.forEach(function(a){let show=a.querySelector('[input-key="show"]'),generate=a.querySelector('[input-key="generate"]'),field=a.querySelector('[input-key="field"]'),key=a.querySelector('[input-key="key"]'),length=a.getAttribute("data-length")*1;let characters=false;try{characters=JSON.parse(a.getAttribute("data-characters"));if(typeof characters==="object"){characters=Object.values(characters)}}catch(b){characters=false;console.error(b.message)}show.addEventListener("click",function(c){c.preventDefault();key.innerText=field.value;key.style.display=""});generate.addEventListener("click",function(c){c.preventDefault();key.innerText="";key.style.display="none";if(characters&&length>0){let secret=[];for(let i=1;i<=length;i++){let j=(Math.random()*(characters.length-1)).toFixed();secret[i]=characters[j]}field.value=secret.join("")}else{console.error("Incorrect params")}})})}});